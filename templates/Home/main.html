{% extends "base2.html" %}
{% load static %}
{% load humanize %}
{% block content %}

<head>
<style>
    .material-icons{
    display: inline-flex;
    vertical-align: top;
}

  </style>
</head>


    <div class="main">
    <div class="container">
    <div class="content-section">


{% for post in posts %}
        <div class="row">
            <div class="col m11">
              <div class="card">
                <div class="card-image waves-effect waves-block waves-light">
                    {% if post.display_image.url %}
                        <a href={% url 'view_post'  post.id %}><img src="{{ post.display_image.url }}" ></a>
                    {% endif %}
                </div>
                <div class="card-content">
                    <span class="card-title activator grey-text text-darken-4">
                        <img class="responsive-img circle" src="{{ post.user.profile.image.url }}" width="60" height="60">
                    <b>{{ post.user }}</b>
                    <br>
                        <small class="text-muted">{{ post.date_posted|date:"F d, Y" }}</small>
                        </span>
                    <h5>${{ post.price|intcomma }}</h5>
                    <span><i class="material-icons small">location_city</i> {{ post.town }} </span><br>
                    <span><i class="material-icons small">location_on</i> {{ post.address }} </span> <br>
                    <span><i class="material-icons small">swap_vert</i> Level {{ post.floor_number }} </span> <br>
                    <span><i class="material-icons small">view_compact</i> {{ post.flat_type }} </span> <br>
                    <span><i class="material-icons small">straighten</i> {{ post.floor_area }} Square Feet </span> <br>
                    <span><i class="material-icons small">access_time</i> {{ post.remaining_lease }} Years </span> <br>

                    <br>
                    {% if post.description %}
                    <span><i class="material-icons small">description</i>{{ post.description }}</span>
                    {% endif %}
                </div>
              </div>
            </div>
          </div>

    {% endfor %}
    <br>
        {% if posts.has_other_pages %}

      {% if posts.has_previous %}
        <a class = "btn btn-outline-info mb-4" href="?page=1">First</a>
        <a class = "btn btn-outline-info mb-4" href="?page={{ posts.previous_page_number }}">Previous</a>
      {% endif %}

      {% for num in posts.paginator.page_range %}
        {% if posts.number == num %}
          <a class = "btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
        {% elif num > posts.number|add:'-3' and num < posts.number|add:'3' %}
          <a class = "btn btn-outline-info mb-4" href="?page={{ num }}">{{ num }}</a>
        {% endif %}
      {% endfor %}

      {% if posts.has_next %}
        <a class = "btn btn-outline-info mb-4" href="?page={{ posts.next_page_number }}">Next</a>
        <a class = "btn btn-outline-info mb-4" href="?page={{ posts.paginator.num_pages }}">Last</a>
      {% endif %}

    {% endif %}


    <br>
  </clr-dg-pagination>
</clr-dg-footer>
        </div>

    </div>
    </div>
{% endblock content %}